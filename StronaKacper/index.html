<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gift Box Animation</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    
    <section class="section" id="section1">
      <h1 class="section-title">ROZPAKUJ!</h1>
      
      <div class="gift-container">
        <div class="sunburst-glow"></div>

        <div class="confetti" id="confetti"></div>
        
        <div class="character" id="character">
          <div class="gift-text" id="giftText">JesteÅ› super!</div>
        </div>

        <button class="box" id="box">
          <div class="lid" id="lid"></div>
          
          <div class="hands-around hand-top">ðŸ‘†</div>
          <div class="hands-around hand-bottom">ðŸ‘†</div>
        </button>
      </div>
      
      <button class="reopen-btn" id="reopenBtn" style="display: none;">OtwÃ³rz ponownie</button>
      
      <div class="scroll-text">
        <span class="arrow">â†“</span>
        <span>MAMY DLA CIEBIE COÅš JESZCZE</span>
        <span class="arrow">â†“</span>
      </div>
    </section>
    
    <section class="section" id="section2">
      <img src="images/img1.png" alt="Obraz 1" class="section-image">
      
      <div class="scroll-text">
        <span class="arrow">â†“</span>
        <span>JEST COÅš WIÄ˜CEJ</span>
        <span class="arrow">â†“</span>
      </div>
    </section>
    
    <section class="section" id="section3">
      <img src="images/img2.jpg" alt="Obraz 2" class="section-image">
    </section>
    
    <footer>
      <div class="footer-content">
        <div class="footer-logo"><img src="https://grupamoderator.pl/_Resources/Static/Packages/App.Site/Images/logo-white.png"></div>
        <div class="footer-info">
          ul. Focha 12, 85-070 Bydgoszcz
        </div>
        <div class="footer-info">
          Sekretariat: 52 322 37 52<br>
          DziaÅ‚ handlowy: 796 909 909<br>
          Email: sekretariat@grupamoderator.pl
        </div>
        <div class="footer-info">
          KRS 0000774601 | NIP 9671425820 | REGON 382705990
        </div>
        <div class="footer-tagline">
          Zmieniamy Bydgoszcz.
        </div>
      </div>
    </footer>
  </div>

  <script>
    const box = document.getElementById('box');
    const lid = document.getElementById('lid');
    const character = document.getElementById('character');
    const confettiContainer = document.getElementById('confetti');
    const giftText = document.getElementById('giftText');
    const reopenBtn = document.getElementById('reopenBtn');

    let isAnimating = false;
    let confettiPieces = [];

    // Array of gift messages
    const giftMessages = [
      "JesteÅ› niesamowity! ðŸ’–",
      "JesteÅ› wyjÄ…tkowy! ðŸ’–",
      "JesteÅ› super! ðŸ’–",
      "JesteÅ› wspaniaÅ‚y! ðŸ’–",
      "JesteÅ› cudowny! ðŸ’–",
      "JesteÅ› gwiazdÄ…! ðŸ’–",
      "JesteÅ› najlepszy! ðŸ’–",
      "JesteÅ› bÅ‚yskotliwy! ðŸ’–",
      "JesteÅ› fantastyczny! ðŸ’–"
    ];

    function createConfetti() {
      confettiContainer.innerHTML = '';
      confettiPieces = [];
      
      for (let i = 0; i < 100; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti-piece';
        
        const hue = Math.floor(Math.random() * 360);
        piece.style.background = `hsl(${hue}, 100%, 50%)`;
        
        const tx = (Math.random() - 0.5) * 1500 + 'px';
        const ty = (Math.random() - 0.5) * 1500 + 'px';
        const rot = Math.random() * 720 + 'deg';
        
        piece.style.setProperty('--tx', tx);
        piece.style.setProperty('--ty', ty);
        piece.style.setProperty('--rot', rot);
        
        piece.style.left = '50%';
        piece.style.top = '50%';
        
        confettiContainer.appendChild(piece);
        confettiPieces.push(piece);
      }
    }

    function animate() {
      if (isAnimating) return;
      isAnimating = true;
      
      const randomMessage = giftMessages[Math.floor(Math.random() * giftMessages.length)];
      giftText.textContent = randomMessage;
      
      lid.classList.add('wiggle');
      box.classList.add('is-open');

      setTimeout(() => {
        lid.classList.remove('wiggle');
        lid.classList.add('rotating'); 
        character.classList.add('pop-up');
        
        confettiPieces.forEach(piece => {
           piece.classList.remove('animated');
           void piece.offsetWidth;
           piece.classList.add('animated');
        });
        
        setTimeout(() => {
           lid.classList.remove('rotating');
           lid.classList.add('rotated');
           reopenBtn.style.display = 'block';
        }, 1000);

      }, 600);
    }

    function resetGift() {
      lid.classList.remove('wiggle', 'rotating', 'rotated');
      character.classList.remove('pop-up');
      box.classList.remove('is-open');
      reopenBtn.style.display = 'none';
      createConfetti();
      isAnimating = false;
    }

    box.addEventListener('click', animate);
    reopenBtn.addEventListener('click', resetGift);
    
    createConfetti();
  </script>
</body>
</html>